ANSI-C/cC++ Compiler for HC08 V-5.0.32 Build 9279, Oct  7 2009

    1:  /**
    2:    ******************************************************************************
    3:    * proj    firmware startup project
    4:    * file    ERRNO.c
    5:    * ver     1.0
    6:    * brief   This is a ERRNO file for all C files.
    7:    ------------------------------------------------------------------------------
    8:    * 2012.02 created by taoyu@bakai.com
    9:    */ 
   10:  
   11:  /* File Id -------------------------------------------------------------------*/
   12:  #define _ERRNO_C_ 0x45
   13:  #define FILE_No _ERRNO_C_
   14:  
   15:  /* Includes ------------------------------------------------------------------*/
   16:  #include  "errno.h"  /* mandotary */
   17:  #include  "log.h"
   18:  #include  "can.h"
   19:  #include  "mcu.h"
   20:  
   21:  /* Private Macros & Defines --------------------------------------------------*/
   22:  
   23:  /* Private typedefs ----------------------------------------------------------*/
   24:  
   25:  /* Private consts ------------------------------------------------------------*/
   26:  
   27:  /* Private variables ---------------------------------------------------------*/
   28:  
   29:  /* Private function prototypes -----------------------------------------------*/
   30:  
   31:  /* Global consts -------------------------------------------------------------*/
   32:  
   33:  /* Global variables ----------------------------------------------------------*/
   34:  
   35:  /* Functions -----------------------------------------------------------------*/
   36:  
   37:  /**
   38:    * bref    ERRNO function
   39:    * param   none
   40:    * retval  none
   41:    */
   42:  
   43:  void perrno(ERRNO errno, int file_no, char * file, int line, int param)
   44:  {

Function: perrno
Source  : C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\04 Modules\errno.c
Options : -AddIncl../preinc.h -Cs08 -D__NO_FLOAT__ -Env"GENPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\src;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\lib;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\src;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\06 Platform;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\04 Modules;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\Sources;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\07 Application;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\05 Devices;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\asm_include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\HC08c\include" -Env"LIBPATH=D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\asm_include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\HC08c\include" -Env"OBJPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin" -Env"TEXTPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin" -Lasm=%n.lst -Ms -ObjN="C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\mc9s08dz60_Data\Standard\ObjectCode\errno.c.o" -WmsgSd1106

  0000 89       [2]             PSHX  
  0001 8b       [2]             PSHH  
   45:    LED_RED = LED_ON;
  0002 1900     [5]             BCLR  4,_PTDD
   46:  
   47:    //  sci
   48:    PRINTF("[E]%d @ %s(%d): %d\r\n",errno,file,line,param);
  0004 89       [2]             PSHX  
  0005 8b       [2]             PSHH  
  0006 9efe07   [5]             LDHX  7,SP
  0009 89       [2]             PSHX  
  000a 8b       [2]             PSHH  
  000b 9efe0b   [5]             LDHX  11,SP
  000e 89       [2]             PSHX  
  000f 8b       [2]             PSHH  
  0010 9efe11   [5]             LDHX  17,SP
  0013 89       [2]             PSHX  
  0014 8b       [2]             PSHH  
  0015 450000   [3]             LDHX  @"[E]%d @ %s(%d): %d\015\012"
  0018 89       [2]             PSHX  
  0019 8b       [2]             PSHH  
  001a cd0000   [6]             JSR   printf
  001d a70a     [2]             AIS   #10
   49:  
   50:    //  can
   51:    {
   52:      static can_frame_t frame;
   53:      frame.id = 0x000;
  001f 5f       [1]             CLRX  
  0020 8c       [1]             CLRH  
  0021 960002   [5]             STHX  frame:2
  0024 960000   [5]             STHX  frame
   54:      frame.dlc = 8;
  0027 a608     [2]             LDA   #8
  0029 c70004   [4]             STA   frame:4
   55:      frame.data[0] = (unsigned char)(errno>>8);
  002c 95       [2]             TSX   
  002d e60a     [3]             LDA   10,X
  002f c70005   [4]             STA   frame:5
   56:      frame.data[1] = (unsigned char)(errno>>0);
  0032 e60b     [3]             LDA   11,X
  0034 c70006   [4]             STA   frame:6
   57:      frame.data[2] = (unsigned char)(file_no>>8);
  0037 e608     [3]             LDA   8,X
  0039 c70007   [4]             STA   frame:7
   58:      frame.data[3] = (unsigned char)(file_no>>0);
  003c e609     [3]             LDA   9,X
  003e c70008   [4]             STA   frame:8
   59:      frame.data[4] = (unsigned char)(line>>8);
  0041 e604     [3]             LDA   4,X
  0043 c70009   [4]             STA   frame:9
   60:      frame.data[5] = (unsigned char)(line>>0);
  0046 e605     [3]             LDA   5,X
  0048 c7000a   [4]             STA   frame:10
   61:      frame.data[6] = (unsigned char)(param>>8);
  004b f6       [3]             LDA   ,X
  004c c7000b   [4]             STA   frame:11
   62:      frame.data[7] = (unsigned char)(param>>0);
  004f e601     [3]             LDA   1,X
  0051 c7000c   [4]             STA   frame:12
   63:   //   (void)can_xmit(&frame);
   64:    }
   65:  
   66:    //  log
   67:    (void)log_printf("[E]%d,%d,%d,%d\r\n",errno,file,line,param);
  0054 e601     [3]             LDA   1,X
  0056 87       [2]             PSHA  
  0057 f6       [3]             LDA   ,X
  0058 87       [2]             PSHA  
  0059 e605     [3]             LDA   5,X
  005b 87       [2]             PSHA  
  005c e604     [3]             LDA   4,X
  005e 87       [2]             PSHA  
  005f e607     [3]             LDA   7,X
  0061 87       [2]             PSHA  
  0062 e606     [3]             LDA   6,X
  0064 87       [2]             PSHA  
  0065 e60b     [3]             LDA   11,X
  0067 87       [2]             PSHA  
  0068 e60a     [3]             LDA   10,X
  006a 87       [2]             PSHA  
  006b 450000   [3]             LDHX  @"[E]%d,%d,%d,%d\015\012"
  006e 89       [2]             PSHX  
  006f 8b       [2]             PSHH  
  0070 cd0000   [6]             JSR   log_printf
  0073 a70a     [2]             AIS   #10
   68:   
   69:    LED_RED = LED_OFF;
  0075 1800     [5]             BSET  4,_PTDD
   70:  }
  0077 a702     [2]             AIS   #2
  0079 81       [6]             RTS   
   71:  
   72:  void pwarno(WARNO warno, int file_no, char * file, int line, int param)
   73:  {

Function: pwarno
Source  : C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\04 Modules\errno.c
Options : -AddIncl../preinc.h -Cs08 -D__NO_FLOAT__ -Env"GENPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\src;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\lib;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\src;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\06 Platform;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\04 Modules;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\Sources;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\07 Application;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\05 Devices;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\asm_include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\HC08c\include" -Env"LIBPATH=D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\asm_include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\HC08c\include" -Env"OBJPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin" -Env"TEXTPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin" -Lasm=%n.lst -Ms -ObjN="C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\mc9s08dz60_Data\Standard\ObjectCode\errno.c.o" -WmsgSd1106

  0000 89       [2]             PSHX  
  0001 8b       [2]             PSHH  
   74:    LED_RED = LED_ON;
  0002 1900     [5]             BCLR  4,_PTDD
   75:  
   76:    //  sci
   77:    PRINTF("[E]%d @ %s(%d): %d\r\n",errno,file,line,param);
  0004 89       [2]             PSHX  
  0005 8b       [2]             PSHH  
  0006 9efe07   [5]             LDHX  7,SP
  0009 89       [2]             PSHX  
  000a 8b       [2]             PSHH  
  000b 9efe0b   [5]             LDHX  11,SP
  000e 89       [2]             PSHX  
  000f 8b       [2]             PSHH  
  0010 320000   [5]             LDHX  errno
  0013 89       [2]             PSHX  
  0014 8b       [2]             PSHH  
  0015 450000   [3]             LDHX  @"[E]%d @ %s(%d): %d\015\012"
  0018 89       [2]             PSHX  
  0019 8b       [2]             PSHH  
  001a cd0000   [6]             JSR   printf
  001d a70a     [2]             AIS   #10
   78:  
   79:    //  can
   80:    {
   81:      static can_frame_t frame;
   82:      frame.id = 0x000;
  001f 5f       [1]             CLRX  
  0020 8c       [1]             CLRH  
  0021 960002   [5]             STHX  frame:2
  0024 960000   [5]             STHX  frame
   83:      frame.dlc = 8;
  0027 a608     [2]             LDA   #8
  0029 c70004   [4]             STA   frame:4
   84:      frame.data[0] = (unsigned char)(warno>>8);
  002c 95       [2]             TSX   
  002d e60a     [3]             LDA   10,X
  002f c70005   [4]             STA   frame:5
   85:      frame.data[1] = (unsigned char)(warno>>0);
  0032 e60b     [3]             LDA   11,X
  0034 c70006   [4]             STA   frame:6
   86:      frame.data[2] = (unsigned char)(file_no>>8);
  0037 e608     [3]             LDA   8,X
  0039 c70007   [4]             STA   frame:7
   87:      frame.data[3] = (unsigned char)(file_no>>0);
  003c e609     [3]             LDA   9,X
  003e c70008   [4]             STA   frame:8
   88:      frame.data[4] = (unsigned char)(line>>8);
  0041 e604     [3]             LDA   4,X
  0043 c70009   [4]             STA   frame:9
   89:      frame.data[5] = (unsigned char)(line>>0);
  0046 e605     [3]             LDA   5,X
  0048 c7000a   [4]             STA   frame:10
   90:      frame.data[6] = (unsigned char)(param>>8);
  004b f6       [3]             LDA   ,X
  004c c7000b   [4]             STA   frame:11
   91:      frame.data[7] = (unsigned char)(param>>0);
  004f e601     [3]             LDA   1,X
  0051 c7000c   [4]             STA   frame:12
   92:  //    (void)can_xmit(&frame);
   93:    }
   94:  
   95:    //  log
   96:    (void)log_printf("[W]%d,%d,%d,%d\r\n",warno,file,line,param);
  0054 e601     [3]             LDA   1,X
  0056 87       [2]             PSHA  
  0057 f6       [3]             LDA   ,X
  0058 87       [2]             PSHA  
  0059 e605     [3]             LDA   5,X
  005b 87       [2]             PSHA  
  005c e604     [3]             LDA   4,X
  005e 87       [2]             PSHA  
  005f e607     [3]             LDA   7,X
  0061 87       [2]             PSHA  
  0062 e606     [3]             LDA   6,X
  0064 87       [2]             PSHA  
  0065 9efe11   [5]             LDHX  17,SP
  0068 89       [2]             PSHX  
  0069 8b       [2]             PSHH  
  006a 450000   [3]             LDHX  @"[W]%d,%d,%d,%d\015\012"
  006d 89       [2]             PSHX  
  006e 8b       [2]             PSHH  
  006f cd0000   [6]             JSR   log_printf
  0072 a70a     [2]             AIS   #10
   97:   
   98:    LED_RED = LED_OFF;
  0074 1800     [5]             BSET  4,_PTDD
   99:  }
  0076 a702     [2]             AIS   #2
  0078 81       [6]             RTS   
  100:  
  101:  
