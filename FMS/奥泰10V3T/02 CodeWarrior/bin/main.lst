ANSI-C/cC++ Compiler for HC08 V-5.0.32 Build 9279, Oct  7 2009

    1:  /**
    2:    ******************************************************************************
    3:    * proj    firmware startup project
    4:    * file    main.c
    5:    * ver     1.0
    6:    * brief   This is a template file for all C files.
    7:    ------------------------------------------------------------------------------
    8:    * 2012.02 created by taoyu@bakai.com
    9:    */ 
   10:  
   11:  /* File Id -------------------------------------------------------------------*/
   12:  #define _MAIN_C_  0x61
   13:  #define FILE_No _MAIN_C_
   14:  
   15:  /* Includes ------------------------------------------------------------------*/
   16:  #include  "mcu.h"
   17:  #include  "test.h"
   18:  #include  "bmu.h"
   19:  
   20:  /* Private Macros & Defines --------------------------------------------------*/
   21:  
   22:  /* Private typedefs ----------------------------------------------------------*/
   23:  
   24:  /* Private consts ------------------------------------------------------------*/
   25:  
   26:  /* Private variables ---------------------------------------------------------*/
   27:  
   28:  /* Private function prototypes -----------------------------------------------*/
   29:  
   30:  /* Global consts -------------------------------------------------------------*/
   31:  
   32:  /* Global variables ----------------------------------------------------------*/
   33:  
   34:  /* Functions -----------------------------------------------------------------*/
   35:  
   36:  /**
   37:    * bref    template function
   38:    * param   none
   39:    * retval  none
   40:    */
   41:  
   42:  volatile unsigned int n @ 0x1070;
   43:  
   44:  void main(void)
   45:  {

Function: main
Source  : C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\06 Platform\main.c
Options : -AddIncl../preinc.h -Cs08 -D__NO_FLOAT__ -Env"GENPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\src;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\lib;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\src;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\06 Platform;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\04 Modules;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\Sources;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\07 Application;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\05 Devices;C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\asm_include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\HC08c\include" -Env"LIBPATH=D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\hc08c\device\asm_include;D:\Program Files\Freescale\CodeWarrior for Microcontrollers V6.3\lib\HC08c\include" -Env"OBJPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin" -Env"TEXTPATH=C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\bin" -Lasm=%n.lst -Ms -ObjN="C:\Users\Administrator\Desktop\Fms\FMS\°ÂÌ©10V3T\02 CodeWarrior\mc9s08dz60_Data\Standard\ObjectCode\main.c.o" -WmsgSd1106

   46:  
   47:    /* basic init : xtal, pins... */
   48:    init();
  0000 cd0000   [6]             JSR   init
   49:    
   50:    DBG_PRINTF("\r\n\r\nstart up %d for %02Xh\r\n", n, SRS);
  0003 c60000   [4]             LDA   _SRS
  0006 87       [2]             PSHA  
  0007 4f       [1]             CLRA  
  0008 87       [2]             PSHA  
  0009 320000   [5]             LDHX  n
  000c 89       [2]             PSHX  
  000d 8b       [2]             PSHH  
  000e 450000   [3]             LDHX  @"\015\012\015\012start up %d for %02Xh\015\012"
  0011 89       [2]             PSHX  
  0012 8b       [2]             PSHH  
  0013 cd0000   [6]             JSR   printf
  0016 a706     [2]             AIS   #6
   51:    n ++;
  0018 320000   [5]             LDHX  n
  001b af01     [2]             AIX   #1
  001d 960000   [5]             STHX  n
   52:  
   53:    /* tests */
   54:    test();
  0020 cd0000   [6]             JSR   test
   55:    
   56:    /* works */
   57:   gf_vBmuMain();
  0023 cd0000   [6]             JSR   gf_vBmuMain
   58:  
   59:    /* trap if work returns */
   60:    halt();
  0026 cc0000   [4]             JMP   halt
   61:  
   62:  }
   63:  
   64:  
